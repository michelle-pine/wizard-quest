(this["webpackJsonpwizard-quest"]=this["webpackJsonpwizard-quest"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/wizardAndCauldron.a1d1776a.gif"},,,,,function(e,t,a){e.exports=a.p+"static/media/neutralwizard.7cd74b71.gif"},,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/cat.72907d26.gif"},function(e,t,a){e.exports=a.p+"static/media/cauldronOnly.8ff6e30a.gif"},function(e,t,a){e.exports=a.p+"static/media/catandbook.d1badf3c.gif"},function(e,t,a){e.exports=a.p+"static/media/blank.3833efb9.png"},,,function(e,t,a){},,,function(e,t,a){e.exports=a.p+"static/media/evilwizard.f4c15ed3.png"},function(e,t,a){e.exports=a.p+"static/media/catIntoCauldron.4d9e1e50.gif"},function(e,t,a){e.exports=a.p+"static/media/catIntoCaudronWizard.1b646f1d.gif"},function(e,t,a){e.exports=a.p+"static/media/catandbook-fall.3573b86e.gif"},function(e,t,a){e.exports=a.p+"static/media/catandbook-no-book.28ee89ea.gif"},function(e,t,a){e.exports=a.p+"static/media/angrycat.493c5785.gif"},function(e,t,a){e.exports=a.p+"static/media/angrycat1.e481b8b6.gif"},function(e,t,a){e.exports=a.p+"static/media/wizardRedEyes.fdf7aae5.gif"},function(e,t,a){e.exports=a.p+"static/media/wizardRedEyes2.fefc5863.gif"},function(e,t,a){e.exports=a.p+"static/media/wizardFalling.ef8d8d56.gif"},function(e,t,a){e.exports=a.p+"static/media/wizardIntoPigeon.2bc45f7f.gif"},function(e,t,a){e.exports=a.p+"static/media/wizardRuinedSpell.0a7b55b0.gif"},function(e,t,a){e.exports=a.p+"static/media/catandbookandexam.d61fab8d.gif"},function(e,t,a){e.exports=a.p+"static/media/loader.623fde5f.svg"},,function(e,t,a){e.exports=a.p+"static/media/book-cover.bc75b5ba.jpg"},function(e,t,a){e.exports=a.p+"static/media/book-texture.6a22510b.jpg"},function(e,t,a){e.exports=a.p+"static/media/book-texture2.4a80930a.jpg"},function(e,t,a){e.exports=a.p+"static/media/book-texture3.54677084.png"},function(e,t,a){e.exports=a.p+"static/media/note.737fafeb.png"},,,,function(e,t,a){e.exports=a(94)},,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/wizardRuinedSpell2.fb584fba.png"},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n,o=a(0),i=a.n(o),r=a(22),s=a.n(r),c=a(62),l=a(60),d=a(14),u=a(17),p=a.n(u),h=(a(37),a(72),a(73),a(75),a(24)),m=a(15),f=a(31),b=a.n(f),g=a(40),y=a.n(g),v=a(41),k=a.n(v),T=a(42),O=a.n(T),E=a(32),w=a.n(E),C=a(21),j=a.n(C),x=a(43),A=a.n(x),S=a(44),N=a.n(S),I=a(33),D=a.n(I),B=a(45),P=a.n(B),W=a(46),M=a.n(W),L=a(16),F=a.n(L),R=a(47),z=a.n(R),H=a(48),G=a.n(H),Y=a(49),U=a.n(Y),_=a(50),Z=a.n(_),J=a(51),q=a.n(J),V=(a(76),a(34)),Q=a.n(V),X=a(52),K=a.n(X),$="NEXT_STEP",ee="ADD_STEPS",te="DOUBLE_TRAITOR";function ae(e){return{type:$,payload:e}}function ne(e){return{type:ee,payload:e}}function oe(e){return{type:te,payload:e}}var ie={0:{type:"none"},1:{type:"go-dialog",center:[42.337147,-71.090267],radius:57.3024,description:"Go to Centennial Common"},2:{type:"audio",transcriptions:["WIZARD: Ah! You\u2019ve returned! Wonderful! And uninjured? You\u2019re a tough ol\u2019 cookie aren\u2019t you? Knew I made a good choice... (pause) Now there\u2019s only two things left. You see I need a cat. Very strange little black cat from my dimension. Yes... Oh! And I of course need my spellbook. Can\u2019t cast spells without that, no-sir-ee. Now I\u2019m not sure where that cat got off to, magic\u2019s tricky like that, maybe try cat treats? Cat\u2019s sure like treats...  (pause) RIGHT! The spell book! That\u2019ll be hiding near lots of other books. Maybe a library perhaps? Eh. I have no idea. This world is strange!! Good luck! Your reward is in reach! (pause) I\u2019d better get to the dining hall kitchens to prepare the cauldron\u2026"],button:"Next",imgs:[{src:j.a,startTime:0,endTime:999}],hiddenDesc:"At this step, the user will hear the wizard talk about the last materials he needs.",audioSrc:"https://docs.google.com/uc?export=download&id=1og_uWAz2cbSHS7zgRXkl8ziewuyETgBG"},3:{type:"audio",transcriptions:["CAT: He\u2019s gone? Good. Wellllll. Cat\u2019s out of the bag, as they say, hmm? Yes he needs me\u2026 The book may answer your questions\u2026"],button:"Next",imgs:[{src:b.a,startTime:0,endTime:999}],hiddenDesc:"At this step, the user will hear the cat prompt the user to find the truth.",audioSrc:"https://docs.google.com/uc?export=download&id=16XAIFO73LsFuTHHqc_ojVxxFAML2ggBY"},4:{type:"go-dialog",center:[42.3384,-71.087921],radius:42.672,description:"Find the spellbook. Go where curious minds find books to read."},5:{type:"audio",button:"Open Book",imgs:[{src:N.a,startTime:0,endTime:5},{src:A.a,startTime:5,endTime:6},{src:D.a,startTime:6,endTime:999}],hiddenDesc:"At this step, the cat will help the user locate the spellbook.",audioSrc:"https://docs.google.com/uc?export=download&id=1L1Gq1t0dVb6nRIULEDplsOliV9T9uCJd"},6:{type:"spellbook",hiddenDesc:"At this step, the user can read the spellbook."},7:{type:"audio",transcriptions:["CAT: Apologies for not trusting you before. I had to watch and be sure you are not willingly in league with my former host. (pause) You have two options, my friend. Follow the word of the Grand Warlock, act as the catalyst in your world\u2019s destruction. Or. Save the world, turn against him. And don\u2019t try to turn and run. He\u2019ll just find another. There is a reason he was banished specifically here, to a college campus. This is a place void of magic, void of wonder. A single piece of antimagic, the least magical object in your world, a college exam, can destroy his spell and render him permanently powerless. He is a buffoon. He will not notice the addition. That building with the statue of the man and the cat should be a good source. I can practically feel the anti-magic flowing out of that building. It\u2019s your choice."],imgs:[{src:D.a,startTime:0,endTime:999}],button:"Next",hiddenDesc:"At this step, the cat explains the truth.",audioSrc:"https://docs.google.com/uc?export=download&id=1UAgwIEfO8V1vSLqPNpO3b002OlIeegG8"},8:{type:"choice",hiddenDesc:"At this step, the user chooses a major outcome of the game.",choices:[{id:1,buttonText:"Betray the Wizard",buttonFunc:function(e,t){e.preventDefault(),be.dispatch(ne({steps:re,type:"GOOD"})),dt(t,e)}},{id:2,buttonText:"Betray the Cat",buttonFunc:function(e,t){e.preventDefault(),be.dispatch(ne({steps:se,type:"BAD"})),dt(t,e)}}]}},re={9:{type:"go-dialog",center:[42.337599,-71.090301],radius:28.53,description:"Go to Shillman Hall"},10:{type:"audio",transcriptions:["CAT: There. A 22% on a final\u2026 That should do and I\u2019m sure it won\u2019t be all that missed. We should be ready to head back to the old coot. He\u2019ll never be the wiser."],imgs:[{src:K.a,startTime:0,endTime:999}],button:"Next",hiddenDesc:"At this step, the user will find the exam.",audioSrc:"https://docs.google.com/uc?export=download&id=1WA3qSpNBauK8Avzv_Lgd2NVzeLu0PAGM"},11:{type:"go-dialog",center:[42.337147,-71.090267],radius:57.3024,description:"Go to Centennial Common to reconvene with the Wizard."},12:{type:"audio",transcriptions:["WIZARD: Ah! There\u2019s that blasted cat. And my book! Wonderful! You\u2019ve really been such a wonderful help. Give me the cat."],imgs:[{src:j.a,startTime:0,endTime:999}],audioSrc:"https://docs.google.com/uc?export=download&id=1TbBMzPzoErJ1PXawx2yX_n87NVy1ub_F",button:"Hand Over Cat and Spellbook"},13:{type:"audio-choice",transcriptions:["WIZARD: There we go find the right spell\u2026 HmmmhahahahahaHAHAHA! Add the tears, and the blood\u2026 the snake, the stone, smash the crystal ball in... You fool! You\u2019ve fallen right into my trap. Once I add the cat my power will return and I can take over the world!"],audioSrc:"https://docs.google.com/uc?export=download&id=1O3k0o6puunVZYugwLiDE9d-3SJ6gQWaT",imgs:[{src:F.a,startTime:0,endTime:999}],choices:[{id:1,buttonText:"ADD EXAM TO POTION",description:"This will forever disable the wizard's magic.",buttonFunc:function(e,t){e.preventDefault(),be.dispatch(ne({steps:le,type:"GOOD_FINALE"})),dt(t,e)}},{id:2,buttonText:"STEAL THE WIZARD'S MAGIC",description:"Push the wizard aside and take the magic for yourself.",buttonFunc:function(e,t){e.preventDefault(),be.dispatch(ne({steps:ce,type:"DOUBLETRAITOR"})),be.dispatch(oe()),dt(t,e)}}]}},se={9:{type:"choice",hiddenDesc:"At this step, the user chooses to catnap the cat. ",choices:[{id:1,buttonText:"CATNAP THE CAT",buttonFunc:function(e,t){e.preventDefault(),dt(t,e)}}]},10:{type:"audio",imgs:[{src:M.a,startTime:0,endTime:1},{src:P.a,startTime:1,endTime:999}],button:"Next",hiddenDesc:"At this step, the user betrays the cat and catnaps them!",audioSrc:"https://docs.google.com/uc?export=download&id=1xW8LA1thEf1qa3w3qhKO-7E8lcQBQ14O"},11:{type:"go-dialog",center:[42.337147,-71.090267],radius:57.3024,description:"Go to Centennial Common to reconvene with the Wizard."},12:{type:"audio",transcriptions:["WIZARD: Ah! There\u2019s that blasted cat. And my book! Wonderful! You\u2019ve really been such a wonderful help. Give me the cat."],imgs:[{src:j.a,startTime:0,endTime:999}],audioSrc:"https://docs.google.com/uc?export=download&id=1TbBMzPzoErJ1PXawx2yX_n87NVy1ub_F",button:"Hand Over Cat and Spellbook"},13:{type:"audio-choice",audioSrc:"https://docs.google.com/uc?export=download&id=1O3k0o6puunVZYugwLiDE9d-3SJ6gQWaT",transcriptions:["WIZARD: There we go find the right spell\u2026 HmmmhahahahahaHAHAHA! Add the tears, and the blood\u2026 the snake, the stone, smash the crystal ball in... You fool! You\u2019ve fallen right into my trap. Once I add the cat my power will return and I can take over the world!"],imgs:[{src:F.a,startTime:0,endTime:999}],choices:[{id:1,buttonText:"ALLOW WIZARD TO CONTINUE",description:"Let him regain his magic and get your reward.",buttonFunc:function(e,t){e.preventDefault(),be.dispatch(ne({steps:de,type:"BAD_FINALE"})),dt(t,e)}},{id:2,buttonText:"STEAL THE WIZARD'S MAGIC",description:"Push the wizard aside and take the magic for yourself.",buttonFunc:function(e,t){e.preventDefault(),be.dispatch(ne({steps:ce,type:"DOUBLETRAITOR"})),be.dispatch(oe()),dt(t,e)}}]}},ce={14:{type:"audio",transcriptions:["WIZARD: Ah! What are you doing?"],audioSrc:"https://docs.google.com/uc?export=download&id=13GlmiW-R6ITOPFmJh70DsmAQH0004e2O",imgs:[{src:F.a,startTime:0,endTime:1},{src:U.a,startTime:1,endTime:999}],button:"Throw Cat Into Cauldron"},15:{type:"audio",transcriptions:["CAT: Unhand me! Stop this!","WIZARD: Nooooo! You traitor! That\u2019s my cat! My magic! You can\u2019t steal my magic!"],backgroundFilter:{type:"good",startTime:8,endTime:999,fadeIn:!0},audioSrc:"https://docs.google.com/uc?export=download&id=18o59if5IVzi7-BXnJcE6qxaNvE-sN9Qp",imgs:[{src:w.a,startTime:0,endTime:3},{src:k.a,startTime:4,endTime:6},{src:w.a,startTime:6,endTime:999}],button:"Turn Wizard into a Pigeon"},16:{type:"audio",audioSrc:"https://docs.google.com/uc?export=download&id=1I_dIkRGQEjfg08TJKjmrmHfllP9SqOcQ",backgroundFilter:{type:"good",startTime:0,endTime:999,fadeIn:!1},imgs:[{src:y.a,startTime:0,endTime:1},{src:Z.a,startTime:1,endTime:999}],button:"Become the World's Most Powerful Wizard"},17:{type:"text",title:"You're Now a Wizard!",subtitle:"Unfortunately, despite suddenly being the most powerful wizard of all time, you still have classes to take..."}},le={14:{type:"audio",audioSrc:"https://docs.google.com/uc?export=download&id=1ohvG9l9xERrY2tKXJaeavV1TpjImQuTg",backgroundFilter:{type:"none",startTime:.5,endTime:999,fadeIn:!1},transcriptions:["WIZARD: What? What did you just row inthrow?? A FINAL EXAMINATION??? 22%???? DID THEY STUDY AT ALL??? What\u2019s happening? Wait! No! My magic! What did you do!?","CAT: The least magical thing in existence, yes. We sabotaged the spell you fool. You\u2019ll never hurt another soul with you magic permanently damaged. And I? I\u2019ll be free to wander\u2026 bound to you no more.","WIZARD: My magic! Nooo!"],imgs:[{src:F.a,startTime:0,endTime:.2},{src:q.a,startTime:0,endTime:2},{src:F.a,startTime:2,endTime:17},{src:b.a,startTime:17,endTime:33},{src:j.a,startTime:33,endTime:41},{src:Q.a,startTime:41,endTime:999}],button:"Set the Cat Free"},15:{type:"text",title:"You Saved the World!",subtitle:"You've completed the game, which means the cat is free to wander as he pleases\u2014and you're free to study for your exams!"}},de={14:(n={backgroundFilter:"badMagic",type:"audio"},Object(m.a)(n,"backgroundFilter",{type:"bad",startTime:9,endTime:999,fadeIn:!0}),Object(m.a)(n,"transcriptions",["CAT: Unhand me! Stop this!","WIZARD: With my power returned I can take over the world! AhaAHAHAHAHA! You\u2019ve brought the end of mankind, little college student. And since I promised you a reward...here\u2019s yours: the end of your miserable academic life!"]),Object(m.a)(n,"audioSrc","https://docs.google.com/uc?export=download&id=1A41bt1lw1w2u_clAN0NQG5NOP0ofhv4z"),Object(m.a)(n,"imgs",[{src:F.a,startTime:0,endTime:3},{src:O.a,startTime:3,endTime:5},{src:F.a,startTime:5,endTime:18},{src:z.a,startTime:18,endTime:20},{src:G.a,startTime:20,endTime:41},{src:Q.a,startTime:41,endTime:999}]),Object(m.a)(n,"button","Enter the Afterlife"),n),15:{type:"text",title:"You died.",subtitle:"But at least you won't have to take exams, right?"}},ue=a(25),pe={bakeCookie:function(e,t){(new ue.a).set(e,t,{path:"/"})},deleteUserCookieData:function(){var e=new ue.a;e.remove("currentStep"),e.remove("choice"),e.remove("doubleTraitor")},getUserCookieData:function(){var e=new ue.a;return{currentStep:e.get("currentStep"),choice:e.get("choice"),doubleTraitor:e.get("doubleTraitor")}}};function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){var e=pe.getUserCookieData();console.log(e);var t=ie;return e.choice&&("BAD"===e.choice?t=me({},ie,{},se):"GOOD"===e.choice?t=me({},ie,{},re):"GOOD_FINALE"===e.choice?t=me({},ie,{},re,{},le):"BAD_FINALE"===e.choice&&(t=me({},ie,{},se,{},de))),e.doubleTraitor&&"GOOD_FINALE"!==e.choice&&"BAD_FINALE"!==e.choice&&"TRUE"===e.doubleTraitor&&(t=me({},t,{},ce)),console.log(t),{steps:t,currentStep:0,doubleTraitor:"TRUE"===t.doubleTraitor}}(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return pe.bakeCookie("currentStep",t.payload.step||e.currentStep+1),Object.assign({},e,{currentStep:t.payload.step||e.currentStep+1,steps:e.steps,doubleTraitor:!1});case ee:return"DOUBLETRAITOR"===t.payload.type?pe.bakeCookie("doubleTraitor","TRUE"):pe.bakeCookie("choice",t.payload.type),Object.assign({},e,{currentStep:e.currentStep,steps:me({},e.steps,{},t.payload.steps),doubleTraitor:!1});case te:return Object.assign({},e,{currentStep:e.currentStep,steps:e.steps,doubleTraitor:!0});default:return e}},be=Object(h.b)(fe),ge=a(3),ye=a(4),ve=a(7),ke=a(5),Te=a(1),Oe=a(6),Ee=(a(77),a(78),function(e){function t(e){return Object(ge.a)(this,t),Object(ve.a)(this,Object(ke.a)(t).call(this,e))}return Object(Oe.a)(t,e),Object(ye.a)(t,[{key:"render",value:function(){return i.a.createElement("button",{className:"quest-button ".concat(this.props.dark?"dark":null),onClick:this.props.onClick},this.props.text)}}]),t}(i.a.Component));Ee.defaultProps={};var we=Ee,Ce=function(e){function t(e){var a;return Object(ge.a)(this,t),(a=Object(ve.a)(this,Object(ke.a)(t).call(this,e))).onButtonClick=a.onButtonClick.bind(Object(Te.a)(a)),pe.deleteUserCookieData(),a}return Object(Oe.a)(t,e),Object(ye.a)(t,[{key:"onButtonClick",value:function(e){dt(this.props,e)}},{key:"render",value:function(){return i.a.createElement("div",{id:"content-wrapper",className:"content-wrapper fade-in"},i.a.createElement("div",{className:"content-container"},i.a.createElement("h1",{className:"app-title"},"WizardQuest")),i.a.createElement(we,{text:"Start",onClick:this.onButtonClick}))}}]),t}(i.a.Component),je=(a(79),a(80),a(81),a(53)),xe=a.n(je),Ae=function(e){function t(e){return Object(ge.a)(this,t),Object(ve.a)(this,Object(ke.a)(t).call(this,e))}return Object(Oe.a)(t,e),Object(ye.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"loader-wrapper"},i.a.createElement("img",{src:xe.a}))}}]),t}(i.a.Component);Ae.defaultProps={};var Se=Ae,Ne=a(8),Ie=a.n(Ne),De=(a(82),function(e){function t(e){return Object(ge.a)(this,t),Object(ve.a)(this,Object(ke.a)(t).call(this,e))}return Object(Oe.a)(t,e),Object(ye.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"modal-container"},i.a.createElement("div",{id:"dialog-modal",className:"modal"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h2",null,this.props.title)),i.a.createElement("div",{className:"modal-body"},this.props.children,i.a.createElement(we,{text:"Close",onClick:this.props.onClose})))))}}]),t}(i.a.Component));De.defaultProps={title:Ie.a.string,onClose:Ie.a.func};var Be=De,Pe=a(54),We=function(e){function t(e){var a;return Object(ge.a)(this,t),(a=Object(ve.a)(this,Object(ke.a)(t).call(this,e))).onButtonClick=a.onButtonClick.bind(Object(Te.a)(a)),a.onModalClose=a.onModalClose.bind(Object(Te.a)(a)),a.setLocation=a.setLocation.bind(Object(Te.a)(a)),a.state={modalOpen:!1,loaderShow:!1,location:null},a}return Object(Oe.a)(t,e),Object(ye.a)(t,[{key:"componentDidMount",value:function(){navigator.geolocation&&navigator.geolocation.watchPosition(this.setLocation,function(e){this.setState({loaderShow:!1}),alert("You don't have geolocation services enabled. Enable them before continuing.")}.bind(this),{enableHighAccuracy:!0,maximumAge:1e4,timeout:500})}},{key:"setLocation",value:function(e){console.log(e),this.setState({location:e.coords})}},{key:"convertCoordinates",value:function(e,t){return[t,e]}},{key:"insideRadius",value:function(e,t){return Object(Pe.insideCircle)(e,this.convertCoordinates(t.center[0],t.center[1]),t.radius)}},{key:"onButtonClick",value:function(e){if(this.setState({loaderShow:!0}),this.state.location){var t=[this.state.location.longitude,this.state.location.latitude];this.insideRadius(t,this.props.step)?dt(this.props,e):(this.setState({loaderShow:!1}),this.setState({modalOpen:!0}))}else this.setState({loaderShow:!1}),this.setState({modalOpen:!0})}},{key:"onModalClose",value:function(e){e.preventDefault(),this.setState({modalOpen:!1})}},{key:"render",value:function(){var e=null;this.state.modalOpen&&(e=i.a.createElement(Be,{title:"You're not there yet!",onClose:this.onModalClose},i.a.createElement("div",null,"You haven't arrived at the right location yet. If you don't know where you're going, check out the ",i.a.createElement("a",{target:"_blank",href:"https://www.northeastern.edu/campusmap/printable/campusmap.pdf"},"campus map"))));var t=null;return this.state.loaderShow&&(t=i.a.createElement(Se,null)),i.a.createElement("div",{className:"go-dialog fade-in"},i.a.createElement("div",{className:"content-container"},this.props.step.description),i.a.createElement("div",{className:"button-wrapper"},i.a.createElement(we,{text:"I've Arrived",onClick:this.onButtonClick})),e,t)}}]),t}(i.a.Component);We.defaultProps={};var Me=We,Le=(a(85),a(18)),Fe=a.n(Le),Re=function(e){function t(e){var a;return Object(ge.a)(this,t),(a=Object(ve.a)(this,Object(ke.a)(t).call(this,e))).onButtonClick=a.onButtonClick.bind(Object(Te.a)(a)),a.onListen=a.onListen.bind(Object(Te.a)(a)),a.onModalClose=a.onModalClose.bind(Object(Te.a)(a)),a.onModalOpen=a.onModalOpen.bind(Object(Te.a)(a)),a.state={audioTime:0,modalOpen:!1},a}return Object(Oe.a)(t,e),Object(ye.a)(t,[{key:"onButtonClick",value:function(e){dt(this.props,e)}},{key:"onListen",value:function(){this.setState({audioTime:Math.floor(this.audioPlayer.audioEl.currentTime)})}},{key:"getImgSrc",value:function(){var e=this.props.step.imgs,t=this.state.audioTime,a=e.filter((function(e){return t>=e.startTime&&t<=e.endTime}));return a.length>0?a[0].src:""}},{key:"getBackgroundFilter",value:function(){var e=this.props.step.backgroundFilter,t=this.state.audioTime;if(e&&t>=e.startTime&&t<=e.endTime){var a="background-filter ".concat(e.type," ").concat(e.fadeIn?"filter-fade-in":null);return i.a.createElement("div",{className:a},i.a.createElement("div",{className:"bad"===e.type?"lightning":"glow"}))}return null}},{key:"onModalClose",value:function(e){this.setState({modalOpen:!1})}},{key:"onModalOpen",value:function(e){this.setState({modalOpen:!0})}},{key:"renderModal",value:function(){var e=null;if(this.state.modalOpen&&this.props.step.transcriptions){var t=this.props.step.transcriptions.map((function(e){return i.a.createElement("p",null,e)}));e=i.a.createElement(Be,{onClose:this.onModalClose},i.a.createElement("div",{className:"transcriptions-wrapper"},t))}return e}},{key:"render",value:function(){var e=this,t=this.props.step.transcriptions?i.a.createElement("a",{tabIndex:"0",onClick:this.onModalOpen},"Open Transcription"):null;return i.a.createElement("div",{className:"audio-dialog fade-in"},this.getBackgroundFilter(),i.a.createElement("div",{className:"content-container audio-container"},i.a.createElement(Fe.a,{src:this.props.step.audioSrc,autoPlay:!0,listenInterval:500,onListen:this.onListen,controls:!0,ref:function(t){e.audioPlayer=t}}),t),i.a.createElement("div",{className:"img-wrapper"},i.a.createElement("img",{className:"fade-in",src:this.getImgSrc(),alt:""})),i.a.createElement("div",{className:"button-wrapper"},i.a.createElement(we,{text:this.props.step.button,onClick:this.onButtonClick})),this.renderModal())}}]),t}(i.a.Component);Re.defaultProps={};var ze=Re,He=(a(88),function(e){function t(e){var a;return Object(ge.a)(this,t),(a=Object(ve.a)(this,Object(ke.a)(t).call(this,e))).renderChoice=a.renderChoice.bind(Object(Te.a)(a)),a.createOnClick=a.createOnClick.bind(Object(Te.a)(a)),a}return Object(Oe.a)(t,e),Object(ye.a)(t,[{key:"createOnClick",value:function(e){return function(t){e.buttonFunc(t,this.props)}}},{key:"renderChoice",value:function(e){var t=this.createOnClick(e).bind(this);return i.a.createElement(we,{key:e.id,text:e.buttonText,onClick:t})}},{key:"render",value:function(){var e=this.props.step.choices.map(this.renderChoice);return i.a.createElement("div",{className:"choice-dialog fade-in"},e)}}]),t}(i.a.Component));He.defaultProps={};var Ge=He,Ye=(a(89),function(e){function t(e){var a;return Object(ge.a)(this,t),(a=Object(ve.a)(this,Object(ke.a)(t).call(this,e))).renderChoice=a.renderChoice.bind(Object(Te.a)(a)),a.createOnClick=a.createOnClick.bind(Object(Te.a)(a)),a.onListen=a.onListen.bind(Object(Te.a)(a)),a.onModalClose=a.onModalClose.bind(Object(Te.a)(a)),a.onModalOpen=a.onModalOpen.bind(Object(Te.a)(a)),a.state={audioTime:0},a}return Object(Oe.a)(t,e),Object(ye.a)(t,[{key:"onModalClose",value:function(e){this.setState({modalOpen:!1})}},{key:"onModalOpen",value:function(e){this.setState({modalOpen:!0})}},{key:"renderModal",value:function(){var e=null;if(this.state.modalOpen&&this.props.step.transcriptions){var t=this.props.step.transcriptions.map((function(e){return i.a.createElement("p",null,e)}));e=i.a.createElement(Be,{onClose:this.onModalClose},i.a.createElement("div",{className:"transcriptions-wrapper"},t))}return e}},{key:"onListen",value:function(){this.setState({audioTime:Math.floor(this.audioPlayer.audioEl.currentTime)})}},{key:"getImgSrc",value:function(){var e=this.props.step.imgs,t=this.state.audioTime,a=e.filter((function(e){return t>=e.startTime&&t<=e.endTime}));return a.length>0?a[0].src:""}},{key:"createOnClick",value:function(e){return function(t){e.buttonFunc(t,this.props)}}},{key:"renderChoice",value:function(e){var t=this.createOnClick(e).bind(this);return i.a.createElement("div",{className:"fade-in fixed-button-individual"},i.a.createElement(we,{key:e.id,text:e.buttonText,onClick:t}),i.a.createElement("p",null,e.description))}},{key:"render",value:function(){var e=this,t=this.props.step.choices.map(this.renderChoice),a=this.props.step.transcriptions?i.a.createElement("a",{tabIndex:"0",onClick:this.onModalOpen},"Open Transcription"):null;return i.a.createElement("div",{className:"audio-choice fade-in"},i.a.createElement("div",{className:"content-container audio-container"},i.a.createElement(Fe.a,{src:this.props.step.audioSrc,onListen:this.onListen,listenInterval:1e3,autoPlay:!0,controls:!0,ref:function(t){e.audioPlayer=t}}),a),i.a.createElement("div",{className:"img-wrapper"},i.a.createElement("img",{className:"fade-in",src:this.getImgSrc(),alt:""})),i.a.createElement("div",{className:"fixed-button-wrapper"},t),this.renderModal())}}]),t}(i.a.Component));Ye.defaultProps={};var Ue=Ye,_e=(a(90),function(e){function t(e){return Object(ge.a)(this,t),Object(ve.a)(this,Object(ke.a)(t).call(this,e))}return Object(Oe.a)(t,e),Object(ye.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"text-dialog content-container"},i.a.createElement("h2",null,this.props.step.title),i.a.createElement("p",null,this.props.step.subtitle))}}]),t}(i.a.Component));_e.defaultProps={};var Ze=_e,Je=(a(91),a(55)),qe=a.n(Je),Ve=a(56),Qe=a.n(Ve),Xe=a(57),Ke=a.n(Xe),$e=a(58),et=a.n($e),tt=a(59),at=a.n(tt),nt=function(e){function t(e){var a;return Object(ge.a)(this,t),(a=Object(ve.a)(this,Object(ke.a)(t).call(this,e))).state={page:0},a.onNextButtonClick=a.onNextButtonClick.bind(Object(Te.a)(a)),a.onBackButtonClick=a.onBackButtonClick.bind(Object(Te.a)(a)),a}return Object(Oe.a)(t,e),Object(ye.a)(t,[{key:"onNextButtonClick",value:function(e){e.preventDefault(),3===this.state.page?dt(this.props,e):this.setState({page:this.state.page+1})}},{key:"onBackButtonClick",value:function(e){e.preventDefault(),this.setState({page:this.state.page-1})}},{key:"renderNextButton",value:function(){var e=3===this.state.page?"Close Book":"Next Page";return i.a.createElement(we,{dark:this.state.page>0,text:e,onClick:this.onNextButtonClick})}},{key:"renderPrevButton",value:function(){return 0===this.state.page?null:i.a.createElement(we,{dark:this.state.page>0,text:"Previous Page",onClick:this.onBackButtonClick})}},{key:"render",value:function(){var e=this.state.page>0?"gone":"",t=this.state.page>1?"gone":"",a=this.state.page>2?"gone":"";return i.a.createElement("div",{className:"spellbook fade-in"},i.a.createElement("div",{className:"button-wrapper fixed-button"},this.renderPrevButton(),this.renderNextButton()),i.a.createElement("div",{style:{backgroundImage:"url(".concat(qe.a,")")},className:"cover book-image ".concat(e)}),i.a.createElement("div",{style:{backgroundImage:"url(".concat(Qe.a,")")},className:"page-1 book-image ".concat(t)},i.a.createElement("div",{className:"potion"},i.a.createElement("h4",{className:"potion-name"},"Spell of Umbral Warding"),i.a.createElement("div",{className:"potion-text"},i.a.createElement("strong",null,"Ingredients: "),i.a.createElement("ul",null,i.a.createElement("li",null,"Jar of Shadows"),i.a.createElement("li",null,"Gray Chalk"),i.a.createElement("li",null,"Wolfsbane"),i.a.createElement("li",null,"Raven Feathers"),i.a.createElement("li",null,"Cricket Eyes"),i.a.createElement("li",null,"Black Cat Fur"),i.a.createElement("li",null,"Jar of Shadows"),i.a.createElement("li",null,"Gray Chalk"),i.a.createElement("li",null,"Hallowed Stone")),i.a.createElement("strong",null,"Incantation:"),i.a.createElement("p",null," \u201cI call upon the darkness to ward this hallowed place. Flow along these channels and across this stone. Guard from intrusion, taking all steps to prevent crossing of the barrier. Fade into shadows and bind the sprits of gloom to me for my defence and mine alone.\u201d"),i.a.createElement("strong",null,"Process:"),i.a.createElement("ul",null,i.a.createElement("li",null,"Mark out the spell circle using the gray chalk on the hallowed stone you wish to ward."),i.a.createElement("li",null,"Place the wolfsbane, raven feathers, cricket eyes, and black cat fur in each respective channeling point of the spell circle."),i.a.createElement("li",null,"Recite the incantation while pouring the jar of shadows out along the edge of the circle."),i.a.createElement("li",null,"Enjoy your new shadow-guarded fortress!"))))),i.a.createElement("div",{style:{backgroundImage:"url(".concat(Ke.a,")")},className:"page-2 book-image ".concat(a)},i.a.createElement("div",{className:"potion"},i.a.createElement("h4",{className:"potion-name"},"Spell of Immolation"),i.a.createElement("div",{className:"potion-text"},i.a.createElement("strong",null,"Ingredients: "),i.a.createElement("ul",null,i.a.createElement("li",null,"Sulfur"),i.a.createElement("li",null,"Iron Shavings")),i.a.createElement("strong",null,"Incantation:"),i.a.createElement("p",null,"\u201cBring the flames of hell upon this soul.\u201d"),i.a.createElement("strong",null,"Process:"),i.a.createElement("ul",null,i.a.createElement("li",null,"Blend the sulfur and iron shavings in your hand."),i.a.createElement("li",null,"Speak the incantation  while swirling your finger through the mixture in your other hand."),i.a.createElement("li",null,"Point at your target at the end of the incantation."),i.a.createElement("li",null,"Enjoy the fiery destruction of all who stand in your way!"))))),i.a.createElement("div",{style:{backgroundImage:"url(".concat(et.a,")")},className:"page-3 book-image"},i.a.createElement("div",{className:"note"},i.a.createElement("img",{alt:"",className:"note-bg",src:at.a}),i.a.createElement("div",{className:"sr-only"},"If you\u2019re reading this, you\u2019ve found the Grand Warlock\u2019s spell book. By order of the Archmage Council we implore you forget you ever saw this. The Grand Warlock is not to be trusted. He nearly destroyed our world, leaving us no choice but to banish him to to yours. If the spell went as planned he should be powerless, his magic seperated into the form of a cat. Do not help him! Do not fall for his tricks! We can not help should power fall into his hands once more. He is not as innocent as he may seem."))))}}]),t}(i.a.Component);nt.defaultProps={};var ot=nt,it=(a(92),function(e){function t(e){var a;return Object(ge.a)(this,t),(a=Object(ve.a)(this,Object(ke.a)(t).call(this,e))).state={audioTime:0},a.onListen=a.onListen.bind(Object(Te.a)(a)),a.renderButtons=a.renderButtons.bind(Object(Te.a)(a)),a}return Object(Oe.a)(t,e),Object(ye.a)(t,[{key:"onListen",value:function(){this.setState({audioTime:Math.floor(this.audioPlayer.audioEl.currentTime)})}},{key:"renderButtons",value:function(){var e=this.props.step.events,t=be.getState().doubleTraitor,a=this.state.audioTime,n=e.filter((function(e){return a>e.startTime&&a<e.endTime&&t===e.traitorTimeline}));return n.map(function(e){e.buttonFunc=e.buttonFunc.bind(this)}.bind(this)),n.map(function(e){return i.a.createElement("div",{className:"fade-in fixed-button-individual"},i.a.createElement(we,{text:e.buttonText,onClick:e.buttonFunc}),i.a.createElement("p",null,e.description))}.bind(this))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"audio-event-dialog fade-in"},i.a.createElement("div",{className:"content-container audio-container"},i.a.createElement(Fe.a,{src:this.props.step.audioSrc,onListen:this.onListen,listenInterval:1e3,controls:!0,ref:function(t){e.audioPlayer=t}})),i.a.createElement("div",{className:"img-wrapper"},i.a.createElement("img",{className:"fade-in",src:this.props.step.img,alt:""})),i.a.createElement("div",{className:"fixed-button-wrapper"},this.renderButtons()))}}]),t}(i.a.Component));it.defaultProps={};var rt=it,st=function(e){function t(e){var a;Object(ge.a)(this,t),a=Object(ve.a)(this,Object(ke.a)(t).call(this,e));var n=be.getState();return a.state={id:n.currentStep,step:n.steps[n.currentStep]},a}return Object(Oe.a)(t,e),Object(ye.a)(t,[{key:"componentDidMount",value:function(){this.goToStep()}},{key:"goToStep",value:function(){var e=this.props.match.params.id;be.dispatch(ae({step:parseInt(e)})),console.log(be.getState().currentStep);var t=be.getState();this.setState({id:parseInt(e),step:t.steps[parseInt(e)]})}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&this.goToStep()}},{key:"renderStepType",value:function(){return"go-dialog"===this.state.step.type?i.a.createElement(Me,{history:this.props.history,step:this.state.step,stepNum:this.state.id}):"audio"===this.state.step.type?i.a.createElement(ze,{history:this.props.history,step:this.state.step,stepNum:this.state.id}):"spellbook"===this.state.step.type?i.a.createElement(ot,{history:this.props.history,step:this.state.step,stepNum:this.state.id}):"choice"===this.state.step.type?i.a.createElement(Ge,{history:this.props.history,step:this.state.step,stepNum:this.state.id}):"audio-choice"===this.state.step.type?i.a.createElement(Ue,{history:this.props.history,step:this.state.step,stepNum:this.state.id}):"audio-event"===this.state.step.type?i.a.createElement(rt,{history:this.props.history,step:this.state.step,stepNum:this.state.id}):"text"===this.state.step.type?i.a.createElement(Ze,{history:this.props.history,step:this.state.step,stepNum:this.state.id}):void 0}},{key:"render",value:function(){return i.a.createElement("div",{id:"content-wrapper",className:"content-wrapper fade-in"},this.renderStepType())}}]),t}(i.a.Component);st.defaultProps={};var ct=st;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var lt=i.a.createElement(c.a,{store:be},i.a.createElement("div",{className:"page-wrapper"},i.a.createElement(l.a,{basename:"/"},i.a.createElement("div",null,i.a.createElement("div",{id:"starshine"},i.a.createElement("div",{className:"template shine"})),i.a.createElement(d.a,{exact:!0,path:"/",component:Ce}),i.a.createElement(d.a,{path:"/step/:id",component:ct}))))),dt=t.default=function(e,t){t.preventDefault(),p()("#content-wrapper").css("opacity","0"),be.dispatch(ae({}));var a=e.history.push;setTimeout((function(){return a("/step/".concat(be.getState().currentStep))}),490),p()("#content-wrapper").css("opacity","1")};s.a.render(lt,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),p()((function(){for(var e=p()("#starshine"),t=p()(".template.shine"),a="small",n=0;n<500;n++)a=n%2===0?"small":n%3===0?"medium":"large",t.clone().removeAttr("id").css({top:100*Math.random()+"%",left:100*Math.random()+"%",webkitAnimationDelay:20*Math.random()+"s",mozAnimationDelay:20*Math.random()+"s"}).addClass(a).appendTo(e)}))}],[[63,1,2]]]);
//# sourceMappingURL=main.a4c608c4.chunk.js.map