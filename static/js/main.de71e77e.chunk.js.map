{"version":3,"sources":["media/catandbook.png","media/cat.png","media/neutralwizard.png","media/loader.svg","media/book-cover.jpg","media/book-texture.jpg","media/book-texture2.jpg","media/book-texture3.png","media/note.png","media/evilwizard.png","media/book-filler.png","constants/steps.js","constants/action-types.js","reducers/index.js","store/index.js","actions/index.js","components/Button/Button.js","App.js","components/Loader/Loader.js","components/Modal/Modal.js","components/GoDialog/GoDialog.js","components/AudioDialog/AudioDialog.js","components/Spellbook/Spellbook.js","pages/Step/Step.js","serviceWorker.js","index.js"],"names":["module","exports","SAMPLE_COORDS","SAMPLE_CENTER","STEPS","0","type","1","radius","center","boundingBox","description","2","button","img","Wizard","hiddenDesc","audioSrc","3","Cat","4","5","CatAndBook","6","7","NEXT_STEP","ADD_STEPS","rootReducer","state","steps","currentStep","action","Object","assign","payload","step","user","store","createStore","nextStep","Button","props","className","this","dark","onClick","text","React","Component","defaultProps","App","onButtonClick","bind","navigator","geolocation","getCurrentPosition","position","coords","longitude","latitude","e","fadeOut","id","Loader","src","loader","Modal","title","children","onClose","PropTypes","string","func","GoDialog","onModalClose","modalOpen","loaderShow","lat","long","location","map","coord","convertCoordinates","insideCircle","setState","cur","console","log","insideBoundingBox","error","alert","preventDefault","modal","target","href","renderedLoader","AudioDialog","controls","alt","Spellbook","page","onNextButtonClick","onBackButtonClick","coverGone","page1gone","page2gone","renderPrevButton","renderNextButton","style","backgroundImage","BookCover","BookPage1","BookPage2","BookPage3","Note","Step","getState","goToStep","match","params","dispatch","parseInt","prevProps","history","stepNum","renderStepType","Boolean","window","hostname","routing","basename","exact","path","component","element","document","getElementById","classList","remove","add","push","setTimeout","ReactDOM","render","serviceWorker","ready","then","registration","unregister","$","body","template","size","i","clone","removeAttr","css","top","Math","random","left","webkitAnimationDelay","mozAnimationDelay","addClass","appendTo"],"mappings":"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","file":"static/js/main.de71e77e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/catandbook.570fbc2b.png\";","module.exports = __webpack_public_path__ + \"static/media/cat.834bc1be.png\";","module.exports = __webpack_public_path__ + \"static/media/neutralwizard.592b3e33.png\";","module.exports = __webpack_public_path__ + \"static/media/loader.623fde5f.svg\";","module.exports = __webpack_public_path__ + \"static/media/book-cover.bc75b5ba.jpg\";","module.exports = __webpack_public_path__ + \"static/media/book-texture.6a22510b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/book-texture2.4a80930a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/book-texture3.54677084.png\";","module.exports = __webpack_public_path__ + \"static/media/note.737fafeb.png\";","module.exports = __webpack_public_path__ + \"static/media/evilwizard.f4c15ed3.png\";","module.exports = __webpack_public_path__ + \"static/media/book-filler.9fea8c1d.png\";","import Cat from '../media/cat.png';\nimport EvilWizard from '../media/evilwizard.png';\nimport Wizard from '../media/neutralwizard.png';\nimport Book from '../media/book-filler.png';\nimport CatAndBook from '../media/catandbook.png';\n\nexport const SAMPLE_COORDS = [\n  [42.328207, -71.104922],\n  [42.328152, -71.104704],\n  [42.327905,-71.10495],\n  [42.327894, -71.10474],\n];\n\nexport const SAMPLE_CENTER = [42.327987, -71.104858]\nexport const SAMPLE_RADIUS = 25;\n\nexport let STEPS = {\n  0: {\n    type: \"none\",\n  },\n  1: {\n    type: \"go-dialog\",\n    // boundingBox: [\n    //   [42.337338,-71.090977],\n    //   [42.337559, -71.089741],\n    //   [42.336825, -71.091075],\n    //   [42.337030, -71.089838],\n    // ],\n    // center: [42.337147, -71.090267],\n    // radius: 57.3024,\n    radius: SAMPLE_RADIUS, \n    center: SAMPLE_CENTER,\n    boundingBox: SAMPLE_COORDS,\n    description: \"Go to Centennial Common\"\n  },\n  2: {\n    type: \"audio\",\n    button: \"Next\",\n    img: Wizard,\n    hiddenDesc: \"At this step, the user will hear the wizard talk about the last materials he needs.\",\n    audioSrc: \"https://www.soundboard.com/mediafiles/mz/Mzg1ODMxNTIzMzg1ODM3_JzthsfvUY24.MP3\"\n  },\n  3: {\n    type: \"audio\",\n    button: \"Next\",\n    img: Cat,\n    hiddenDesc: \"At this step, the user will hear the cat prompt the user to find the truth.\",\n    audioSrc: \"https://www.soundboard.com/mediafiles/mz/Mzg1ODMxNTIzMzg1ODM3_JzthsfvUY24.MP3\"\n  },\n  4: {\n    type: \"go-dialog\",\n    // boundingBox: [\n    //   [42.338614, -71.088452],\n    //   [42.338785, -71.087862],\n    //   [42.338551, -71.087648],\n    //   [42.338599, -71.087487],\n    //   [42.338444, -71.087380],\n    //   [42.337921, -71.088206],\n    //   [42.337921, -71.088206],\n    // ],\n    // center: [42.338400, -71.087921],\n    // radius: 42.672,\n    radius: SAMPLE_RADIUS, \n    center: SAMPLE_CENTER,\n    boundingBox: SAMPLE_COORDS,\n    description: \"Find the spellbook. Go where curious minds find books to read.\",\n  },\n  5: {\n    type: \"audio\",\n    button: \"Open Book\",\n    img: CatAndBook,\n    hiddenDesc: \"At this step, the cat will help the user locate the spellbook.\",\n    audioSrc: \"https://www.soundboard.com/mediafiles/mz/Mzg1ODMxNTIzMzg1ODM3_JzthsfvUY24.MP3\"\n  },\n  6: {\n    type: \"spellbook\",\n    hiddenDesc: \"At this step, the user can read the spellbook.\",\n  },\n  7: {\n    type: \"audio\",\n    img: CatAndBook,\n    button: \"Next\",\n    hiddenDesc: \"At this step, the cat explains the truth.\",\n    audioSrc: \"https://www.soundboard.com/mediafiles/mz/Mzg1ODMxNTIzMzg1ODM3_JzthsfvUY24.MP3\"\n  }\n}\n\n\nexport let GOOD_STEPS = {\n\n}\n\nexport let BAD_STEPS = {\n\n}\n","export const NEXT_STEP = \"NEXT_STEP\";\nexport const ADD_STEPS = \"ADD_STEPS\";\n\n","\nimport { STEPS } from \"../constants/steps\";\nimport {\n  NEXT_STEP,\n  ADD_STEPS,\n} from \"../constants/action-types\";\n\nfunction getInitialState() {\n\n  const initialState = {\n    steps: STEPS,\n    currentStep: 0,\n  };\n\n  return initialState;\n}\n\nfunction rootReducer(state = getInitialState(), action) {\n  switch (action.type) {\n    case NEXT_STEP:\n      return Object.assign({}, state, {\n        currentStep: action.payload.step || state.currentStep + 1,\n        steps: state.steps\n      });\n    case ADD_STEPS: \n      return Object.assign({}, state, {\n        user: action.payload,\n        steps: {...state.steps, ...action.payload}\n      });\n    default:\n      return state;\n  }\n}\n\nexport default rootReducer;\n","import { createStore } from \"redux\";\nimport rootReducer from \"../reducers/index\";\nconst store = createStore(rootReducer);\nexport default store;","import {\n  NEXT_STEP,\n  ADD_STEPS,\n} from \"../constants/action-types\";\n\nexport function nextStep(payload) {\n  return { type: NEXT_STEP, payload };\n}\n\nexport function addSteps(payload) {\n  return { type: ADD_STEPS, payload };\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Button.scss';\n\nclass Button extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    return (\n      <button className={`quest-button ${this.props.dark ? \"dark\" : null}`} onClick={this.props.onClick}>\n        {this.props.text}\n      </button>\n    );\n  }\n};\n\nButton.defaultProps = {\n};\n\nButton.propTypes = {\n  text: PropTypes.string,\n  onClick: PropTypes.func,\n  dark: PropTypes.bool,\n};\n\nexport default Button;\n","import React from 'react';\nimport './App.scss';\nimport Button from './components/Button/Button'\nimport fadeOut from './index';\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onButtonClick = this.onButtonClick.bind(this);\n    navigator.geolocation.getCurrentPosition(function(position){\n      return [position.coords.longitude, position.coords.latitude];\n    });\n      \n  }\n  \n\n  onButtonClick(e) {\n    fadeOut(this.props, e);\n  }\n  \n  render() {\n    return (\n      <div id=\"content-wrapper\" className=\"content-wrapper fade-in\">\n        <div className=\"content-container\">\n          <h1 className=\"app-title\">\n            WizardQuest\n          </h1>\n        </div>\n        <Button text=\"Start\" onClick={this.onButtonClick} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Loader.scss';\nimport loader from '../../media/loader.svg';\n\n\nclass Loader extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    return (\n      <div className=\"loader-wrapper\">\n        <img src={loader} />\n      </div>\n    );\n  }\n};\n\nLoader.defaultProps = {\n\n};\n\nLoader.propTypes = {\n\n};\n\nexport default Loader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Modal.scss';\nimport Button from '../Button/Button'\n\nclass Modal extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-container\">\n        <div id=\"dialog-modal\" className=\"modal\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2>{this.props.title}</h2>\n            </div>\n            <div className=\"modal-body\">\n              {this.props.children}\n              <Button text=\"Close\" onClick={this.props.onClose}/>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\nModal.defaultProps = {\n  title: PropTypes.string,\n  onClose: PropTypes.func,\n};\n\nModal.propTypes = {\n\n};\n\nexport default Modal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './GoDialog.scss';\nimport fadeOut from '../../index';\nimport Button from '../../components/Button/Button';\nimport Loader from '../../components/Loader/Loader'\nimport Modal from '../Modal/Modal';\nimport { insidePolygon, insideCircle } from 'geolocation-utils';\n\n\nclass GoDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onButtonClick = this.onButtonClick.bind(this);\n    this.onModalClose = this.onModalClose.bind(this);\n    \n    this.state = {\n      modalOpen: false,\n      loaderShow: false,\n\n    }\n  }\n\n  convertCoordinates(lat, long) {\n    return [long, lat];\n  }\n\n  insideBoundingBox(location, step) {\n    const box = step.boundingBox;\n    let convertedBox = box.map((coord) => this.convertCoordinates(coord[0], coord[1]));\n    return insideCircle(location, this.convertCoordinates(step.center[0], step.center[1]), step.radius);\n  }\n\n  onButtonClick(e) {\n    this.setState({loaderShow: true});\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(function(position){\n        let cur = [position.coords.longitude, position.coords.latitude];\n        console.log(cur);\n        console.log(this.props.step)\n        if (this.insideBoundingBox(cur, this.props.step)) {\n          fadeOut(this.props, e);\n        }\n        else {\n          this.setState({loaderShow: false});\n          this.setState({modalOpen: true});\n        }\n      }.bind(this),\n      function(error) {\n        this.setState({loaderShow: false});\n        alert(\"You don't have geolocation services enabled. Enable them before continuing.\")\n      }.bind(this));\n    }\n    else {\n      this.setState({loaderShow: false});\n      alert(\"You don't have geolocation services enabled. Enable them before continuing.\")\n    }\n\n  }\n\n  onModalClose(e) {\n    e.preventDefault();\n    this.setState({modalOpen: false});\n  }\n\n  render() {\n    let modal = null;\n    if (this.state.modalOpen) {\n      modal = <Modal title=\"You're not there yet!\" onClose={this.onModalClose}>\n        <div>You haven't arrived at the right location yet. If you don't know where you're going, check out the <a target=\"_blank\" href=\"https://www.northeastern.edu/campusmap/printable/campusmap.pdf\">campus map</a></div>\n      </Modal>\n    }\n    let renderedLoader = null;\n    if (this.state.loaderShow) {\n      renderedLoader = <Loader />;\n    }\n    return (\n    <div className=\"go-dialog\">\n      <div className=\"content-container\">\n        {this.props.step.description}\n      </div>\n      <div className=\"button-wrapper\">\n        <Button text=\"I've Arrived\" onClick={this.onButtonClick} />\n      </div>\n      {modal}\n      {renderedLoader}\n    </div>\n    );\n  }\n};\n\nGoDialog.defaultProps = {\n\n};\n\nGoDialog.propTypes = {\n  step: PropTypes.object,\n  stepNum: PropTypes.number,\n  history: PropTypes.object,\n};\n\nexport default GoDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './AudioDialog.scss';\nimport fadeOut from '../../index';\nimport Button from '../../components/Button/Button'\nimport ReactAudioPlayer from 'react-audio-player';\n\nclass AudioDialog extends React.Component {\n  constructor(props) {\n    super(props)\n    this.onButtonClick = this.onButtonClick.bind(this);\n  }\n\n  onButtonClick(e) {\n    fadeOut(this.props, e);\n  }\n\n  render() {\n    return (\n    <div className=\"audio-dialog\">\n      <div className=\"content-container audio-container\">\n        <ReactAudioPlayer\n          src={this.props.step.audioSrc}\n          // autoPlay\n          controls\n        />\n      </div>\n      <div className=\"img-wrapper\">\n        <img src={this.props.step.img} alt=\"\" />\n      </div>\n      <div className=\"button-wrapper\">\n        <Button text={this.props.step.button} onClick={this.onButtonClick} />\n      </div>\n    </div>\n    );\n  }\n};\n\nAudioDialog.defaultProps = {\n\n};\n\nAudioDialog.propTypes = {\n  step: PropTypes.object,\n  stepNum: PropTypes.number,\n  history: PropTypes.object,\n};\n\nexport default AudioDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Spellbook.scss';\nimport Button from '../../components/Button/Button';\nimport BookCover from '../../media/book-cover.jpg';\nimport BookPage1 from '../../media/book-texture.jpg';\nimport BookPage2 from '../../media/book-texture2.jpg';\nimport BookPage3 from '../../media/book-texture3.png';\nimport Note from '../../media/note.png';\nimport fadeOut from '../../index';\n\n\nclass Spellbook extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      page: 0\n    }\n    this.onNextButtonClick = this.onNextButtonClick.bind(this);\n    this.onBackButtonClick = this.onBackButtonClick.bind(this);\n\n  }\n\n  onNextButtonClick(e) {\n    e.preventDefault();\n    if (this.state.page === 3) {\n      fadeOut(this.props, e);\n    }\n    else {\n      this.setState({page: this.state.page + 1});\n    }\n  }\n\n  onBackButtonClick(e) {\n    e.preventDefault();\n    this.setState({page: this.state.page - 1});\n  }\n\n  renderNextButton() {\n    let text = this.state.page === 3 ? \"Close Book\" : \"Next Page\";\n    return (\n      <Button dark={this.state.page > 0} text={text} onClick={this.onNextButtonClick} />\n    );\n  }\n\n  renderPrevButton() {\n    let text = \"Previous Page\";\n    if (this.state.page === 0) {\n      return null;\n    }\n    return (\n      <Button dark={this.state.page > 0} text={text} onClick={this.onBackButtonClick} />\n    );\n  }\n\n  render() {\n    let coverGone = this.state.page > 0 ? \"gone\" : \"\";\n    let page1gone = this.state.page > 1 ? \"gone\" : \"\";\n    let page2gone = this.state.page > 2 ? \"gone\" : \"\";\n    return (\n    <div className=\"spellbook\">\n      <div className=\"button-wrapper fixed-button\">\n        {this.renderPrevButton()}\n        {this.renderNextButton()}\n      </div>\n    \n      <div style={{backgroundImage:`url(${BookCover})`}} className={`cover book-image ${coverGone}`}>\n\n      </div>\n      <div style={{backgroundImage:`url(${BookPage1})`}} className={`page-1 book-image ${page1gone}`}>\n        <div className=\"potion\">\n          <h4 className=\"potion-name\">\n            Spell of Umbral Warding\n          </h4>\n          <div className=\"potion-text\">\n            <strong>Ingredients: </strong>\n            <ul>\n              <li>Jar of Shadows</li>\n              <li>Gray Chalk</li>\n              <li>Wolfsbane</li>\n              <li>Raven Feathers</li>\n              <li>Cricket Eyes</li>\n              <li>Black Cat Fur</li>\n              <li>Jar of Shadows</li>\n              <li>Gray Chalk</li>\n              <li>Hallowed Stone</li>\n            </ul>\n            <strong>Incantation:</strong>\n            <p> “I call upon the darkness to ward this hallowed place. Flow along these channels and across this stone. Guard from intrusion, taking all steps to prevent crossing of the barrier. Fade into shadows and bind the sprits of gloom to me for my defence and mine alone.”</p>\n            <strong>Process:</strong>\n            <ul>\n              <li>Mark out the spell circle using the gray chalk on the hallowed stone you wish to ward.</li>\n              <li>Place the wolfsbane, raven feathers, cricket eyes, and black cat fur in each respective channeling point of the spell circle.</li>\n              <li>Recite the incantation while pouring the jar of shadows out along the edge of the circle.</li>\n              <li>Enjoy your new shadow-guarded fortress!</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n      <div style={{backgroundImage:`url(${BookPage2})`}} className={`page-2 book-image ${page2gone}`}>\n        <div className=\"potion\">\n          <h4 className=\"potion-name\">\n           Spell of Immolation\n          </h4>\n            <div className=\"potion-text\">\n              <strong>Ingredients: </strong>\n              <ul>\n                <li>Sulfur</li>\n                <li>Iron Shavings</li>\n              </ul>\n              <strong>Incantation:</strong>\n              <p>“Bring the flames of hell upon this soul.”</p>\n              <strong>Process:</strong>\n              <ul>\n                <li>Blend the sulfur and iron shavings in your hand.</li>\n                <li>Speak the incantation  while swirling your finger through the mixture in your other hand.</li>\n                <li>Point at your target at the end of the incantation.</li>\n                <li>Enjoy the fiery destruction of all who stand in your way!</li>\n              </ul>\n            </div>\n          </div>\n      </div>\n      <div style={{backgroundImage:`url(${BookPage3})`}} className={`page-3 book-image`}>\n        <div className=\"note\">\n          <img alt=\"\" className=\"note-bg\" src={Note} />\n          <div className=\"sr-only\">\n            If you’re reading this, you’ve found the Grand Warlock’s spell book. By order of the Archmage Council we implore you forget you ever saw this. The Grand Warlock is not to be trusted. He nearly destroyed our world, leaving us no choice but to banish him to to yours. If the spell went as planned he should be powerless, his magic seperated into the form of a cat. Do not help him! Do not fall for his tricks! We can not help should power fall into his hands once more. He is not as innocent as he may seem.\n          </div>\n        </div>\n      </div>\n\n    </div>\n    );\n  }\n};\n\nSpellbook.defaultProps = {\n\n};\n\nSpellbook.propTypes = {\n  step: PropTypes.object,\n  stepNum: PropTypes.number,\n  history: PropTypes.object,\n};\n\nexport default Spellbook;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Step.scss';\nimport GoDialog from '../../components/GoDialog/GoDialog'\nimport AudioDialog from '../../components/AudioDialog/AudioDialog'\nimport Spellbook from '../../components/Spellbook/Spellbook'\n\nimport store from '../../store/index'\nimport { nextStep } from \"../../actions/index\";\n\n\nclass Step extends React.Component {\n  constructor(props) {\n    super(props);\n    const state =  store.getState();\n    this.state = {\n      id: state.currentStep,\n      step: state.steps[state.currentStep],\n    };\n  }\n\n  componentDidMount() {\n    this.goToStep();\n  }\n\n  goToStep() {\n    const id = this.props.match.params.id;\n    store.dispatch(nextStep({step: parseInt(id)}))\n    console.log(store.getState().currentStep)\n    const state =  store.getState();\n    this.setState({\n      id: parseInt(id),\n      step: state.steps[parseInt(id)],\n    });\n  }\n  componentDidUpdate(prevProps) {\n    if (this.props.match.params.id !== prevProps.match.params.id) {\n      this.goToStep();\n    }\n  }\n\n  renderStepType() {\n    if (this.state.step.type === \"go-dialog\") {\n      return (\n        <GoDialog history={this.props.history} step={this.state.step} stepNum={this.state.id} />\n      )\n    } else if (this.state.step.type === \"audio\") {\n      return <AudioDialog history={this.props.history} step={this.state.step} stepNum={this.state.id} />;\n    } else if (this.state.step.type === \"spellbook\") {\n      return <Spellbook history={this.props.history} step={this.state.step} stepNum={this.state.id} />\n    }\n  }\n\n  render() {\n    return (\n    <div id=\"content-wrapper\" className=\"content-wrapper fade-in\">\n      {this.renderStepType()}\n    </div>\n    );\n  }\n};\n\nStep.defaultProps = {\n\n};\n\nStep.propTypes = {\n\n};\n\nexport default Step;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport { Route, HashRouter as Router } from 'react-router-dom'\nimport $ from 'jquery'; \n\nimport './index.scss';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.js';\nimport 'font-awesome/css/font-awesome.min.css'\n\nimport './index.scss';\n\n//stores\nimport store from './store/index'\nimport { nextStep } from \"./actions/index\";\n\nimport App from './App';\nimport Step from './pages/Step/Step';\n\nimport * as serviceWorker from './serviceWorker';\n\nconst routing = (\n  <Provider store={store}>\n    <div className=\"page-wrapper\">\n      <Router basename='/'>\n        <div>\n          <div id=\"starshine\">\n              <div className=\"template shine\"></div>\n          </div>\n          <Route exact path=\"/\" component={App} />\n          <Route path=\"/step/:id\" component={Step} />\n        </div>\n      </Router>\n    </div>\n  </Provider>\n);\n\nconst fadeOut = function(props, e) {\n  e.preventDefault();\n  let element = document.getElementById(\"content-wrapper\");\n  element.classList.remove('fade-in');\n  element.classList.add('fade-out');\n  store.dispatch(nextStep({}));\n  const { history: { push } } = props;\n  setTimeout(()=>push(`/step/${store.getState().currentStep}`), 490);\n}\n\nexport default fadeOut;\n\nReactDOM.render(routing, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n$(function() {\n  var body = $('#starshine'),\n      template = $('.template.shine'),\n      stars =  500,\n      sparkle = 20;\n  \n    \n  var size = 'small';\n  var createStar = function() {\n    template.clone().removeAttr('id').css({\n      top: (Math.random() * 100) + '%',\n      left: (Math.random() * 100) + '%',\n      webkitAnimationDelay: (Math.random() * sparkle) + 's',\n      mozAnimationDelay: (Math.random() * sparkle) + 's'\n    }).addClass(size).appendTo(body);\n  };\n \n  for(var i = 0; i < stars; i++) {\n    if(i % 2 === 0) {\n      size = 'small';\n    } else if(i % 3 === 0) {\n      size = 'medium';\n    } else {\n      size = 'large';\n    }\n    \n    createStar();\n  }\n});"],"sourceRoot":""}